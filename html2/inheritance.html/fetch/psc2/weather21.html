<script src="https://kit.fontawesome.com/b68792f363.js" crossorigin="anonymous"></script>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
  <style>
      #cont{
          color: antiquewhite;
      }
      body{
          background-image: url("https://media.nationalgeographic.org/assets/photos/000/263/26383.jpg");
      }
  </style>
</head>
<body>
    <input type="text" id="city" placeholder="Enter city">
    <button onclick="getweather()">search</button>
    <i class="fa-solid fa-clouds"></i>
   
    <div id="cont"></div>
    <div class="mapouter"><div class="gmap_canvas"><iframe width="450" height="330" id="gmap_canvas"  frameborder="0" scrolling="no" marginheight="0" marginwidth="0"></iframe><a href="https://www.whatismyip-address.com"></a><br><style>.mapouter{position:relative;text-align:right;height:500px;width:600px;}</style><a href="https://www.embedgooglemap.net">create google map for website</a><style>.gmap_canvas {overflow:hidden;background:none!important;height:500px;width:600px;}</style></div></div>
    <div id="cont1">
        
    </div>
    
</body>
</html>
<script>
    
     let key="5697d8eb3f7d877be3e26fc91dfe841f";
     let iframe=document.getElementById("gmap_canvas")
async function getweather(){
    try{
    let city=document.getElementById("city").value
    let res=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${key}&units=metric`);
    let res1=await fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${city}&appid=${key}&cnt=8`)
    let data=await res.json()
    let weekdata=await res1.json()
    weekdata=weekdata.list
    var date=new Date()
    var day=day.getDay()
    console.log(day)
    var weekdays=['sun','mon','tue','wed','thr','fri','sat']
    for(var i=0;i<7;i++){
        if(day>6)
        day=0
        weekdata[i].main.day=weekdays[day]
        day++
    }console.log(weekdata)
    showweather(data,weekdata)}
//     merge(data)
//     merge1(data1)
//    console.log("data:",data)
//    console.log("data1:",data1.list)
//     }
    catch(err){
console.log("err:",err)
    }
}
let week=document.
function merge(data){
console.log("data:",data)
cont.innerHTML=null

let name=document.createElement("p")

name.innerText=data.name

let temp=document.createElement("p")
temp.innerText=`min-temp-${data.main.temp}`

temp1=document.createElement("p")
temp1.innerText=`max_tem ${data.main.temp_min}`

let sp=document.createElement("p")
sp.innerText=`wind-${data.wind.speed}`

let pre=document.createElement("p")
pre.innerText=`pressure-${data.main.pressure}`

document.querySelector("#cont").append(name,temp,temp1,sp,pre)
// let div=document.createElement("div")


iframe.src=`https://maps.google.com/maps?q=${data.name}&t=&z=13&ie=UTF8&iwloc=&output=embed`

}




function merge1(){
    // console.log("data1:",data1.list)
cont1.innerHTML=""
for(var i=0;i<7;i++){
    var temp=data1[i]

    var divv=document.createElement("div")

    var name=document.createElement("p")
    name.innerText=temp.city.name

    var img=document.createElement("img")
    img.src=`http://openweathermap.org/img/wn/${temp.weather[i].icon}@2x.png`

    var tem=document.createElement("p")
    tem.innerText=`TEMP:-${temp.main.temp}`

    var humidity=document.createElement("p")
    humidity.innerText=`HUMIDITY:-${temp.main.humidity}`

    var pressure=document.createElement("p")
    pressure.innerText=`PRESSURE:-${temp.main.pressure}`

    divv.append(name,img,tem,humidity,pressure)
    document.querySelector("#cont1").append(divv)
}

}


</script>

// <!-- <iframe
//   width="600"
//   height="450"
//   style="border:0"
//   loading="lazy"
//   allowfullscreen
//   src="https://www.google.com/maps/embed/v1/place?key=AIzaSyBvEG6ZVb7atKVBc1cV-A2ZdijBlwtzmKQ
//     &q=Space+Needle,Seattle+WA">
// </iframe> -->


<!-- // api.openweathermap.org/data/2.5/forecast?q={city name}&appid={API key}&cnt=8 -->


<!-- 
const key = "03acdf4358b9a3919bf89a1933d392c1";

async function getWeatherData() {
    try {
        let city = document.getElementById("city").value;
        let res = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city}&appid=${key}&units=metric`);
        let data = await res.json();
        let res2 = await fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${city}&appid=${key}&cnt=7&units=metric`);
        let weekData = await res2.json();
        weekData = weekData.list;
        var date = new Date();
        var day = date.getDay();
        console.log(day)
        var weekDays = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];
        for(let i=0; i<7; i++) 
        {
            if(day>6)
                day=0;
            weekData[i].main.day = weekDays[day];
            day++;
        }
        console.log(weekData);
        showWeather(data, weekData);
    } catch(err) {
        console.log("Error:", err);
    }   
}
let week = document.getElementById("week");
let iframe = document.getElementById("gmap_canvas");
var clear = "https://icon-library.com/images/sunny-weather-icon/sunny-weather-icon-6.jpg";
var cloudy = "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRn_Rcj2tAPhkCEssL2pdGBNxFk1shyq-s_qQ&usqp=CAU";
var rainy = "https://image.shutterstock.com/image-vector/cloud-rainy-sky-isolated-icon-260nw-759608053.jpg";
function showWeather(data, weekData) {
    document.getElementById("container").innerHTML=null;

    let name = document.createElement("h3");
    name.innerText = data.name;

    let temp = document.createElement("p");
    temp.innerText = `Temp: ${data.main.temp}°C`;

    let humidity = document.createElement("p");
    humidity.innerText = `Humidity: ${data.main.humidity}`;

    let pressure = document.createElement("p");
    pressure.innerText = `Pressure: ${data.main.pressure}`;

    iframe.src = `https://maps.google.com/maps?q=${data.name}&t=&z=13&ie=UTF8&iwloc=&output=embed`;
    week.innerHTML = null;
    weekData.forEach(function (ele) {      
        let div = document.createElement("div");
        
        let weekDay = document.createElement("h5");
        weekDay.innerText = ele.main.day;

        let icon = document.createElement("img");
        if(ele.weather[0].main == "Rain")
            icon.src = rainy;
        else if(ele.weather[0].main == "Clouds")
            icon.src = cloudy;
        else
            icon.src = clear;
        let max = document.createElement("h5");
        max.innerText = `${Math.round(ele.main.temp_max)}°C`;
       
        let min = document.createElement("h5");
        min.innerText = `${Math.round(ele.main.temp_min)}°C`;

        div.append(weekDay, icon, max, min);
        week.append(div);
    })

    document.getElementById("container").append(name,temp,humidity,pressure);
} -->